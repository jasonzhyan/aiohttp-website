


<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8"/>
    <!--block meta-->
    <title>Sign In-Awesome Python Webapp</title>
    <link rel="stylesheet" href="../static/uikit-2.22.0/css/uikit.min.css">
    <link rel="stylesheet" href="../static/uikit-2.22.0/css/uikit.gradient.min.css">
    <link rel="stylesheet" href="../static/css/awesome.css">
    <script src="../static/js/jquery-2.2.0.js"></script>
    <script src="../static/js/vue.js"></script>
    <script src="../static/js/md5.js"></script>
    <script src="../static/uikit-2.22.0/js/uikit.min.js"></script>
    <script src="../static/js/awesome.js"></script>
    
  
    
  </head>
  <body>
    <nav class="uk-navbar uk-navbar-attached uk-margin-bottom">
      <div class="uk-container uk-container-center">
      
        <a href="/" class="uk-navbar-brand">Awesome</a>
        <ul class="uk-navbar-nav">
          <li data-url="blogs"><a href="/"><i class="uk-icon-home"></i> Blog</a></li>
          <li><a href="#" target="_blank"><i class="uk-icon-book"></i> Guide</a></li>
          <li><a href="#" target="_blank"><i class="uk-icon-code"></i> Code</a></li>
        </ul>
        
        <div class="uk-navbar-flip">
          <ul class="uk-navbar-nav">
          
            <li><a href="/signin"><i class="uk-icon-sign-in"></i> Sign In</a></li>
            <li><a href="/register"><i class="uk-icon-edit"></i> Register</a></li>
          
          </ul>
        </div>
        
      </div>
    </nav>
    
    <div class="uk-container uk-container-center">
      <div class="uk-grid">
        <!-- content -->
        
  <div class="uk-width-2-3">
    <h1>welcome to sign in</h1>
    <form id="vm" v-on="submit: submit" class="uk-form uk-form-stacked">
      <div class="uk-alert uk-alert-danger uk-hidden"></div>
      <div class="uk-form-row">
        <label class="uk-form-label">name: </label>
        <div class="uk-form-controls">
          <input v-model="name" type="text" max-length="50" placeholder="input name" class="uk-width-1-1">
        </div>
      </div>
      <div class="uk-form-row">
        <label class="uk-form-label">email: </label>
        <div class="uk-form-controls">
          <input v-model="email" type="text" max-length="50" placeholder="your email@example.com" class="uk-width-1-1">
        </div>
      </div>
      <div class="uk--form-row">
        <label class="uk-label">password: </label>
        <div class=uk-form-contrals">
          <input v-model="passworo1" type="password" max-length="50" placeholder="enter your password" class="uk-width-1-1">
        </div>
      </div>
      <div class="uk-form-row">
        <label class="uk-form-label">password again: </label>
        <div class="uk-form-controls">
          <input v-model="password2" type="password" max-length="50" placeholder="enter password again" class="uk-width-1-1">
        </div>
      </div>
      <div class="uk-form-row">
        <button type="submit" class="uk-button uk-button-pramary" ><i class="uk-icon-user"></i> Sign In</button>      
      </div>
    </form>
  </div>

        <!--//content -->
      </div>
    </div>
    
    <div class="uk-margin-large-top" style="background-color:#eee; border-top:1px solid #ccc;" >
      <div class="uk-container uk-container-center uk-text-center">
        <div class="uk-panel uk-margin-top uk-margin-bottom">
          <p>
            <a href="#" target="_blank"><i class="uk-icon-button uk-icon-weibo"></i></a>
            <a href="#" target="_blank"><i class="uk-icon-button uk-icon-github"></i></a>
            <a href="#" target="_blank"><i class="uk-icon-button uk-icon-linkedin-square"></i></a>
            <a href="#" target="_blank"><i class="uk-icon-button uk-icon-twitter"></i></a>
          </p>
          <p>Powered by <a href="#">Awesome Python Webapp</a>. Copyright &copy; 2016.[<a href="/manage/" target="_blank">Manage</a>]</p>
          <p><a href="#" target="_blank">Jasonzhyan.com</a>. All rights reserved.</p>
          <a href="#" target="_blank"><i class="uk-icon-html5" style="font-size:64px; color:#444;"></i></a>
        </div>
      </div>
    </div>
    
    
    
    
    
    
  <script>
  
    alert('0');
    function validateEmail(email){
      var re=/'^[a-z0-9\.\-\_]+\@[a-z0-9\-\_]+(\.[a-z0-9\-\_]+){1,4}$'/;
      return re.test(email.toLowerCase());
    }
    
    $(function(){  
      var vm=new Vue({
        el:'#vm',
        date:{
            name: '',
            email: '',
            password1: '',
            password2: ''
        },
        method:{
            submit: function(event){  
                alert('1');              
                event.preventDefault();
                var $form = $('#vm');
                if( !this.name.trim() ){
                    return $form.showFormError('input your name please');
                }
                if(!validateEmail(this.email.trim())){
                    return $form.showFormError('input corect email please');
                }
                if(this.password1.length<6){
                    return $form.showFormError('password should be at least 6 charactors');
                }
                if(this.password1!==this.password2){
                    return $form.showFormError('passwords not the same');
                }
                var email=this.email.trim().toLowerCase();
                $form.postJSON('/api/users',{    
                    name:this.name.trim(),
                    email:email,
                    password:CryptoJS.SHA1(email+':'+this.password1).toString()
                },function(err,r){
                    if(err){
                        return $form.showFormError(err);
                    }
                    return location.assign('/');
                })
            }
            
        }
      }     
      )
      $('#vm').show();
    });
    alert('2');
  </script>
    
    
    
    
    
    
    
    
  
  </body>
</html>
